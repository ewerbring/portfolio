"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var lodash_1 = require("lodash");
var strings_1 = require("./strings");
var numbers_1 = require("./numbers");
var generators = [
    [25, function () { return "\"" + clean() + "\""; }],
    [20, function () { return numbers_1.default(); }],
    [20, function () { return booleans(); }],
    [10, function () { return json(); }],
    [10, function () { return arrayString(); }],
    [5, function () { return "\"" + strings_1.default() + "\""; }]
];
function clean() {
    return strings_1.latin()
        .split('')
        .filter(function (c) { return !c.match(/["\\\s]/); })
        .join('');
}
function booleans() {
    return lodash_1.random(0, 1) === 0;
}
function content() {
    return generators
        .map(function (g) { return [Math.random() * g[0], g[1]]; })
        .sort(function (a, b) { return a[0] - b[0]; })
        .reverse()[0][1]();
}
function arrayString() {
    var elements = lodash_1.range(lodash_1.random(1, 20))
        .map(content);
    return "[" + elements.join(',') + "]";
}
function json() {
    var elements = lodash_1.range(lodash_1.random(1, 20))
        .map(function () {
        return "\"" + clean() + "\":" + content();
    });
    return "{" + elements.join(',') + "}";
}
exports.default = json;
